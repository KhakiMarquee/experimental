import{p as F}from"./loader-ZEtzMRVB.js";document.addEventListener("DOMContentLoaded",()=>{console.log("Fetching:","data/stone.json"),fetch("/data/stone.json").then(a=>a.json()).then(a=>{const i=document.querySelector("#carousel");if(!i){console.error("Carousel element not found");return}i.innerHTML="",a.forEach(c=>{const l=document.createElement("div");l.classList.add("slide");const t=document.createElement("div");t.classList.add("slide-inner");const u=document.createElement("img");u.src=c.image||"",u.alt=c.title||"";const d=document.createElement("p");d.textContent=c.title||"",t.appendChild(u),t.appendChild(d),l.appendChild(t),i.appendChild(l)})}).catch(a=>{console.error("Error loading stone data:",a)})});function k(a){let i,c=[],l=0,t=0;const u=900;let d=!1;const g=100;let E=0;a.setup=function(){a.noCanvas(),i=document.getElementById("carousel"),c=Array.from(document.querySelectorAll(".slide"));const r=document.getElementById("carousel-container");r.style.perspective="2000px",i.style.transformStyle="preserve-3d",y()?b():D(),a.loop()},a.draw=function(){i.style.transform="rotateX(-15deg) rotateY(-30deg)";const n=c.length*u;l+=t,l=l%n,l<0&&(l+=n),c.forEach((f,S)=>{let m=(S*u-l)%n;m<-u*2&&(m+=n);let X=m-n,w=m+n,h=m;const v=window.innerWidth/2;Math.abs(X-v)<Math.abs(h-v)&&(h=X),Math.abs(w-v)<Math.abs(h-v)&&(h=w);const $=h,A=h*-.5,B=-Math.abs(h)*.2,j=Math.round($*100)/100,O=Math.round(A*100)/100,Z=Math.round(B*100)/100;f.style.transform=`
        translateX(${j}px)
        translateY(${O}px)
        translateZ(${Z}px)
      `});const o=Math.abs(t);let p;if(o>25)p=.88;else if(o>10){const f=(o-10)/15,S=f*f*(3-2*f);p=.92+(.88-.92)*S}else if(o>2)p=.92;else if(o>.5){const f=(o-.5)/1.5;p=.94+(.92-.94)*f}else p=.94;t*=p,Math.abs(t)<.005&&(t=0)};function y(){return("ontouchstart"in window||navigator.maxTouchPoints)&&window.innerWidth<=768}function D(){const e=document.querySelector("footer, .footer"),r=document.querySelector("header, .header, .site-header"),s=document.getElementById("carousel-container");s&&(s.addEventListener("mouseenter",()=>{d=!1}),s.addEventListener("mouseleave",()=>{d=!1,t*=.7}),s.addEventListener("wheel",I,{passive:!1}),s.addEventListener("mousedown",Y),s.addEventListener("mouseup",q),s.addEventListener("mousemove",W)),[e,r].forEach(n=>{n&&(n.addEventListener("wheel",o=>{o.stopPropagation(),o.preventDefault()},{passive:!1}),n.addEventListener("mousedown",o=>{o.stopPropagation()}),n.addEventListener("mousemove",o=>{o.stopPropagation()}))})}function b(){const e=document.getElementById("carousel-container");e&&(e.addEventListener("touchstart",P,{passive:!1}),e.addEventListener("touchmove",T,{passive:!1}),e.addEventListener("touchend",C),e.addEventListener("touchcancel",C))}let M=!1;function P(e){e.touches.length===1&&(e.preventDefault(),d=!0,M=!0,E=e.touches[0].clientX,t=0)}function T(e){if(!M||e.touches.length!==1)return;e.preventDefault();const r=e.touches[0].clientX;let n=(r-E)*-1.5;const o=15;n=Math.max(-o,Math.min(o,n)),t=t+(n-t)*.7,E=r}function C(e){M&&(e.preventDefault(),d=!1,M=!1)}let L=0;function I(e){e.preventDefault(),e.stopPropagation();let r=-e.deltaY/8;const s=8;r=Math.max(-s,Math.min(s,r));const n=t+r;t=t+(n-t)*.6,t=Math.max(-g*.8,Math.min(g*.8,t))}function Y(e){e.preventDefault(),e.stopPropagation(),d=!0,L=e.clientX}function q(e){e.preventDefault(),e.stopPropagation(),d=!1}function W(e){if(d){e.preventDefault(),e.stopPropagation();let s=(e.clientX-L)*-1.2;const n=15;s=Math.max(-n,Math.min(n,s)),t=t+(s-t)*.7,t=Math.max(-g*.8,Math.min(g*.8,t)),L=e.clientX}}a.mouseWheel=function(e){return!1},a.mousePressed=function(){return!1},a.mouseReleased=function(){return!1},a.mouseDragged=function(){return!1}}function x(){document.querySelectorAll("#carousel .slide").length>0?new F(k):setTimeout(x,50)}document.addEventListener("DOMContentLoaded",x);
