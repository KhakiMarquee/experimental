import{_ as f}from"./ui-B99QvHqM.js";let i=[];function p(d){const a=document.querySelector("#carousel");if(!a)return console.error("Carousel element not found");const s=typeof window.isMobile=="function"?window.isMobile():("ontouchstart"in window||navigator.maxTouchPoints)&&window.innerWidth<=768,o=(t,n)=>{typeof window.openDetail=="function"?window.openDetail(t,n):f(async()=>{const{openDetail:e}=await import("./openDetail-GWXhpPhG.js");return{openDetail:e}},[]).then(({openDetail:e})=>{window.openDetail=e,e(t,n)}).catch(e=>console.error("Failed to load openDetail:",e))},r=(t,n)=>{if(!s){t.addEventListener("click",()=>o(t,n));return}if(typeof window.setupSingleTap=="function"){window.setupSingleTap(t,n);return}let e=0;t.addEventListener("touchend",()=>{const c=Date.now();c-e<300&&o(t,n),e=c},{passive:!0})};a.innerHTML="",d.forEach(t=>{const n=document.createElement("div");n.classList.add("slide");const e=document.createElement("div");e.classList.add("slide-inner");const c=document.createElement("img");c.src=t.image||"",c.alt=t.title||"";const u=document.createElement("p");u.textContent=t.title||"";const l=document.createElement("span");l.classList.add("tooltip"),l.title="[TAP]",e.appendChild(c),e.appendChild(u),n.appendChild(e),n.appendChild(l),a.appendChild(n),r(n,t)}),window.p5Instance?.refreshSlides&&window.p5Instance.refreshSlides()}document.addEventListener("DOMContentLoaded",()=>{fetch("/data/stone.json").then(o=>o.json()).then(o=>{i=o,p(i)}).catch(o=>console.error("Error loading stone data:",o)),document.querySelectorAll('#category-buttons button:not([data-category="filter"])').forEach(o=>{o.addEventListener("click",()=>{const r=o.dataset.category,t=r==="all"?i:i.filter(e=>e.type===r),n=document.querySelector("#carousel");n&&(t.length?p(t):n.innerHTML=`<p class="no-items">No items found for "${r}"</p>`)})});const a=document.querySelector('#category-buttons button[data-category="filter"]'),s=document.querySelector("#category-buttons");a&&s&&a.addEventListener("click",()=>s.classList.toggle("show-buttons"))});
