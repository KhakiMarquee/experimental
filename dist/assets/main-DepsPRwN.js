import{S as i,g as l,i as c}from"./ui-2KLgCKLa.js";function a(){const t=document.getElementById("play");let o=!1;t&&t.addEventListener("click",()=>{try{o||(window.initStrudel(),o=!0),window.note("<c a f e>(3,8)").jux(window.rev).play()}catch(e){console.error("Strudel error:",e)}})}function s(){const t=document.querySelector("header.site-header");if(!t){console.warn("No <header class='site-header'> found to load into.");return}fetch("/header.html").then(e=>{if(!e.ok)throw new Error(`Failed to load header: ${e.status}`);return e.text()}).then(e=>{t.innerHTML=e,d()}).catch(e=>console.error(e))}function d(){const t=document.getElementById("mobile-menu-toggle"),o=document.getElementById("mobile-menu"),e=o?.querySelector("ul");if(!t||!o||!e){console.warn("Mobile menu elements not found");return}t.addEventListener("click",n=>{n.preventDefault(),o.classList.toggle("active")})}l.registerPlugin(i);function u(){const t=document.querySelector("footer");return t?fetch("/footer.html").then(e=>{if(!e.ok)throw new Error(`Failed to load footer: ${e.status}`);return e.text()}).then(e=>{t.innerHTML=e,window.location.pathname==="/"||window.location.pathname==="/index.html"?f():m(0)}).catch(e=>console.error(e)):(console.warn("No <footer> element found."),Promise.resolve())}function m(t=3e3){setTimeout(()=>{const o=document.querySelector("footer");o&&o.classList.add("at-bottom")},t)}function f(){const t=document.querySelector("footer");!t||!document.querySelector(".site-body")||i.create({trigger:".site-body",start:"bottom bottom",toggleClass:{targets:t,className:"at-bottom"},onToggle(e){console.log("Footer ScrollTrigger active:",e.isActive)}})}function h(){if(c(),a(),s(),u(),document.querySelector(".third-list")){const t=document.querySelectorAll(".third-list p"),o=window.location.pathname,e=o.substring(0,o.lastIndexOf("/"));t.forEach(n=>{n.addEventListener("click",()=>{const r=n.getAttribute("data-category");window.location.href=`${e}/pages/projects.html?category=${encodeURIComponent(r)}`,console.log(r)})})}}export{h as initApp};
