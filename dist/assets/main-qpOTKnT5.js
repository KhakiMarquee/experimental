import{S as a,g as s,i as d}from"./ui-BzMSDqG3.js";function u(){const t=document.getElementById("play");let e=!1;t&&t.addEventListener("click",()=>{try{e||(window.initStrudel(),e=!0),window.note("<c a f e>(3,8)").jux(window.rev).play()}catch(o){console.error("Strudel error:",o)}})}function m(){const t=document.querySelector("header.site-header");if(!t){console.warn("No <header class='site-header'> found to load into.");return}fetch(url).then(e=>{if(!e.ok)throw new Error(`Failed to load header: ${e.status}`);return e.text()}).then(e=>{t.innerHTML=e,f()}).catch(e=>console.error(e))}function f(){const t=document.getElementById("mobile-menu-toggle"),e=document.getElementById("mobile-menu"),o=e?.querySelector("ul");if(!t||!e||!o){console.warn("Mobile menu elements not found");return}const r=window.location.pathname.toLowerCase();[{keyword:"about",url:"/about.html",text:"about"},{keyword:"pages",url:"/stone.html",text:"pages"},{keyword:"index",url:"studio.goke.studio",text:"homepage"}].forEach(n=>{if(r.includes(n.keyword)&&!Array.from(o.querySelectorAll("a")).some(i=>i.href.includes(n.url))){const i=document.createElement("li"),l=document.createElement("a");l.href=n.url,l.textContent=n.text,i.appendChild(l),o.appendChild(i),console.log(`Added dynamic link: ${n.text} -> ${n.url}`)}}),t.addEventListener("click",n=>{n.preventDefault(),e.classList.toggle("active")})}s.registerPlugin(a);function g(){const t=document.querySelector("footer");return t?fetch("/footer.html").then(o=>{if(!o.ok)throw new Error(`Failed to load footer: ${o.status}`);return o.text()}).then(o=>{t.innerHTML=o,window.location.pathname==="/"||window.location.pathname==="/index.html"?y():h(3e3)}).catch(o=>console.error(o)):(console.warn("No <footer> element found."),Promise.resolve())}function h(t=3e3){setTimeout(()=>{const e=document.querySelector("footer");e&&e.classList.add("at-bottom")},t)}function y(){const t=document.querySelector("footer");!t||!document.querySelector(".site-body")||a.create({trigger:".site-body",start:"bottom bottom",toggleClass:{targets:t,className:"at-bottom"},onToggle(o){console.log("Footer ScrollTrigger active:",o.isActive)}})}function E(){if(d(),u(),m(),g(),document.querySelector(".third-list")){const t=document.querySelectorAll(".third-list p"),e=window.location.pathname,o=e.substring(0,e.lastIndexOf("/"));t.forEach(r=>{r.addEventListener("click",()=>{const c=r.getAttribute("data-category");window.location.href=`${o}/pages/projects.html?category=${encodeURIComponent(c)}`,console.log(c)})})}}export{E as initApp};
