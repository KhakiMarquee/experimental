import{_ as w}from"./ui-DKK5VDY1.js";let d=[];function f(r){const s=document.querySelector("#carousel");if(!s)return console.error("Carousel element not found");const l=typeof window.isMobile=="function"?window.isMobile():("ontouchstart"in window||navigator.maxTouchPoints)&&window.innerWidth<=768,o=(t,n)=>{typeof window.openDetail=="function"?window.openDetail(t,n):w(async()=>{const{openDetail:e}=await import("./openDetail-GWXhpPhG.js");return{openDetail:e}},[]).then(({openDetail:e})=>{window.openDetail=e,e(t,n)}).catch(e=>console.error("Failed to load openDetail:",e))},i=(t,n)=>{if(!l){t.addEventListener("click",()=>o(t,n));return}if(typeof window.setupSingleTap=="function"){window.setupSingleTap(t,n);return}let e=0;t.addEventListener("touchend",()=>{const a=Date.now();a-e<300&&o(t,n),e=a},{passive:!0})};s.innerHTML="",r.forEach(t=>{const n=document.createElement("div");n.classList.add("slide");const e=document.createElement("div");e.classList.add("slide-inner");const a=document.createElement("img");a.src=t.image||"",a.alt=t.title||"";const p=document.createElement("p");p.textContent=t.title||"";const u=document.createElement("span");u.classList.add("tooltip"),u.title="[TAP]",e.appendChild(a),e.appendChild(p),n.appendChild(e),n.appendChild(u),s.appendChild(n),i(n,t)}),window.p5Instance?.refreshSlides&&window.p5Instance.refreshSlides()}document.addEventListener("DOMContentLoaded",()=>{fetch("/data/stone.json").then(o=>o.json()).then(o=>{d=o,f(d)}).catch(o=>console.error("Error loading stone data:",o)),document.querySelectorAll('#category-buttons button:not([data-category="filter"])').forEach(o=>{o.addEventListener("click",()=>{const i=o.dataset.category,t=i==="all"?d:d.filter(e=>e.type===i),n=document.querySelector("#carousel");n&&(t.length?f(t):n.innerHTML=`<p class="no-items">No items found for "${i}"</p>`)})});const s=document.querySelector('#category-buttons button[data-category="filter"]'),l=document.querySelector("#category-buttons");s&&l&&s.addEventListener("click",()=>l.classList.toggle("show-buttons"))});const c=document.querySelector("#category-buttons"),h=c.querySelector('button[data-category="filter"]');document.addEventListener("click",r=>{c.classList.contains("show-buttons")&&!c.contains(r.target)&&!h.contains(r.target)&&c.classList.remove("show-buttons")});window.addEventListener("scroll",()=>{c.classList.contains("show-buttons")&&c.classList.remove("show-buttons")});
