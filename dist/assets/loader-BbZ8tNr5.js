const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/main-DOxzYKls.js","assets/ui-CqemAW9_.js"])))=>i.map(i=>d[i]);
import{p as g}from"./app-Br4We5ft.js";const P="modulepreload",E=function(t){return"/"+t},p={},C=function(e,s,i){let l=Promise.resolve();if(s&&s.length>0){let w=function(r){return Promise.all(r.map(d=>Promise.resolve(d).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),h=o?.nonce||o?.getAttribute("nonce");l=w(s.map(r=>{if(r=E(r),r in p)return;p[r]=!0;const d=r.endsWith(".css"),c=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${c}`))return;const a=document.createElement("link");if(a.rel=d?"stylesheet":P,d||(a.as="script"),a.crossOrigin="",a.href=r,h&&a.setAttribute("nonce",h),document.head.appendChild(a),d)return new Promise((S,x)=>{a.addEventListener("load",S),a.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${r}`)))})}))}function n(o){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=o,window.dispatchEvent(h),!h.defaultPrevented)throw o}return l.then(o=>{for(const h of o||[])h.status==="rejected"&&n(h.reason);return e().catch(n)})};class A{constructor(e){this.p=e,this.x=this.p.random(this.p.width),this.y=this.p.random(this.p.height),this.r=.7,this.heading=this.p.random(360),this.vx=this.p.cos(this.heading),this.vy=this.p.sin(this.heading),this.rotAngle=45,this.rSensorPos=this.p.createVector(0,0),this.lSensorPos=this.p.createVector(0,0),this.fSensorPos=this.p.createVector(0,0),this.sensorAngle=45,this.sensorDist=10}update(){this.vx=this.p.cos(this.heading),this.vy=this.p.sin(this.heading),this.x=(this.x+this.vx+this.p.width)%this.p.width,this.y=(this.y+this.vy+this.p.height)%this.p.height,this.getSensorPos(this.rSensorPos,this.heading+this.sensorAngle),this.getSensorPos(this.lSensorPos,this.heading-this.sensorAngle),this.getSensorPos(this.fSensorPos,this.heading);let e,s,i,l,n=this.p.pixelDensity();const o=this.p.pixels.length-1;e=4*(n*this.p.floor(this.rSensorPos.y))*(n*this.p.width)+4*(n*this.p.floor(this.rSensorPos.x)),i=e>=0&&e<=o?this.p.pixels[e]:0,e=4*(n*this.p.floor(this.lSensorPos.y))*(n*this.p.width)+4*(n*this.p.floor(this.lSensorPos.x)),s=e>=0&&e<=o?this.p.pixels[e]:0,e=4*(n*this.p.floor(this.fSensorPos.y))*(n*this.p.width)+4*(n*this.p.floor(this.fSensorPos.x)),l=e>=0&&e<=o?this.p.pixels[e]:0,l>s&&l>i?this.heading+=0:l<s&&l<i?this.p.random(1)<.5?this.heading+=this.rotAngle:this.heading-=this.rotAngle:s>i?this.heading-=this.rotAngle:i>s&&(this.heading+=this.rotAngle)}display(){this.p.noStroke(),this.p.fill(255),this.p.ellipse(this.x,this.y,this.r*2,this.r*2)}getSensorPos(e,s){e.x=(this.x+this.sensorDist*this.p.cos(s)+this.p.width)%this.p.width,e.y=(this.y+this.sensorDist*this.p.sin(s)+this.p.height)%this.p.height}}function I(t){let e=[],s=window.innerWidth<=768?1e3:7500;t.setup=function(){t.createCanvas(t.windowWidth,t.windowHeight).parent("canvas-container"),t.angleMode(t.DEGREES),t.pixelDensity();for(let i=0;i<s;i++)e[i]=new A(t);console.log(`Created ${s} molds`)},t.draw=function(){t.background(0,5),t.loadPixels();for(let i=0;i<s;i++)e[i].update(),e[i].display();t.frameCount%60===0&&console.log(`FPS: ${t.frameRate().toFixed(1)}`)},t.windowResized=()=>{t.resizeCanvas(t.windowWidth,t.windowHeight)}}function B(t){t.noCursor(),t.fill("#ADB5BD"),t.noStroke(),t.ellipse(t.mouseX,t.mouseY,12,12)}function D(t,e){return Math.floor(Math.random()*(e-t+1))+t}const m=["studio","carving","lab","research","experimental","rendering","sculpting","studio","lab","audiovisual","research","experimental","cutting","studio"],L="studio";let u=0,f=0;const y=D(20,50),v=()=>{const t=document.getElementById("shuffling-word");t&&(f>=y?t.textContent=L:(t.textContent=m[u],u=(u+1)%m.length,f++))};v();const b=()=>{const t=document.getElementById("loading-screen"),e=document.getElementById("ls-small"),s=document.querySelector(".site-header");t&&(t.style.display="flex"),e&&e.classList.remove("loaded"),s&&s.classList.remove("loaded")},k=()=>{const t=document.getElementById("ls-small"),e=document.getElementById("loading-screen"),s=document.querySelector(".site-header");t&&(t.style.display="none"),e&&e.classList.add("loaded"),s&&s.classList.add("loaded")},_=()=>{const t=document.getElementById("app"),e=document.querySelector(".site-body");t&&e&&(t.appendChild(e),t.style.display="block")},M=150,R=async()=>{b();const t=document.getElementById("canvas-container");return new g(I,t),new Promise(e=>{const s=setInterval(()=>{v(),f>=y&&(clearInterval(s),e())},M)}).then(async()=>{_(),k();const{initApp:e}=await C(async()=>{const{initApp:s}=await import("./main-DOxzYKls.js");return{initApp:s}},__vite__mapDeps([0,1]));e()})},W=t=>{let e;t.setup=()=>{if(e=document.getElementById("cursor"),!e){console.error("#overlay div not found");return}t.createCanvas(e.offsetWidth,e.offsetHeight).parent(e),t.clear()},t.draw=()=>{t.clear(),B(t)}};document.addEventListener("DOMContentLoaded",()=>{new g(W)});R();
