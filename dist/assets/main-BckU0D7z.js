import{g as r,S as i,i as c}from"./category-DBdUKMJj.js";function l(){const o=document.getElementById("play");let t=!1;o&&o.addEventListener("click",()=>{try{t||(window.initStrudel(),t=!0),window.note("<c a f e>(3,8)").jux(window.rev).play()}catch(e){console.error("Strudel error:",e)}})}r.registerPlugin(i);function s(){const o=document.querySelector("header.site-header");if(!o){console.warn("No <header class='site-header'> found to load into.");return}fetch("/header.html").then(e=>{if(!e.ok)throw new Error(`Failed to load header: ${e.status}`);return e.text()}).then(e=>{o.innerHTML=e,d()}).catch(e=>console.error(e))}function d(){const o=document.getElementById("mobile-menu-toggle"),t=document.getElementById("mobile-menu"),e=t?.querySelectorAll("li");if(!o||!t||!e.length){console.warn("Mobile menu elements not found");return}r.set(e,{x:-100,opacity:0,display:"none"}),o.addEventListener("click",n=>{n.preventDefault(),t.classList.contains("nav-open")?(r.to(e,{duration:.4,x:-100,opacity:0,stagger:.05,onComplete:()=>r.set(e,{display:"none"})}),t.classList.remove("nav-open")):(r.set(e,{display:"block"}),r.to(e,{duration:.6,x:0,opacity:1,ease:"power3.out",stagger:.1}),t.classList.add("nav-open"))}),window.innerWidth<=768&&o.addEventListener("click",n=>{n.preventDefault(),t.classList.toggle("active")}),document.addEventListener("click",n=>{t.classList.contains("active")&&!t.contains(n.target)&&!o.contains(n.target)&&t.classList.remove("active")}),window.addEventListener("scroll",()=>{t.classList.contains("active")&&t.classList.remove("active")})}r.registerPlugin(i);function u(){const o=document.querySelector("footer");return o?fetch("/footer.html").then(e=>{if(!e.ok)throw new Error(`Failed to load footer: ${e.status}`);return e.text()}).then(e=>{o.innerHTML=e,window.location.pathname==="/"||window.location.pathname==="/index.html"?f():m(0)}).catch(e=>console.error(e)):(console.warn("No <footer> element found."),Promise.resolve())}function m(o=3e3){setTimeout(()=>{const t=document.querySelector("footer");t&&t.classList.add("at-bottom")},o)}function f(){const o=document.querySelector("footer");!o||!document.querySelector(".site-body")||i.create({trigger:".site-body",start:"bottom bottom",toggleClass:{targets:o,className:"at-bottom"},onToggle(e){console.log("Footer ScrollTrigger active:",e.isActive)}})}function h(){if(c(),l(),s(),u(),document.querySelector(".third-list")){const o=document.querySelectorAll(".third-list p"),t=window.location.pathname,e=t.substring(0,t.lastIndexOf("/"));o.forEach(n=>{n.addEventListener("click",()=>{const a=n.getAttribute("data-category");window.location.href=`${e}/pages/projects.html?category=${encodeURIComponent(a)}`,console.log(a)})})}}export{h as initApp};
