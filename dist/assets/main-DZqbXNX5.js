import{S as c,g as l,i as a}from"./ui-D-mrfFT-.js";function s(){const e=document.getElementById("play");let o=!1;e&&e.addEventListener("click",()=>{try{o||(window.initStrudel(),o=!0),window.note("<c a f e>(3,8)").jux(window.rev).play()}catch(t){console.error("Strudel error:",t)}})}function d(){const e=document.querySelector("header.site-header");if(!e){console.warn("No <header class='site-header'> found to load into.");return}const o=new URL("/header.html",window.location.origin).href;fetch(o).then(t=>{if(!t.ok)throw new Error(`Failed to load header: ${t.status}`);return t.text()}).then(t=>{e.innerHTML=t,u()}).catch(t=>console.error(t))}function u(){const e=document.getElementById("mobile-menu-toggle"),o=document.getElementById("mobile-menu"),t=o.querySelector("ul"),n=window.location.pathname.toLowerCase();[{keyword:"projects",url:"/projects.html",text:"projects"},{keyword:"about",url:"/about.html",text:"about"},{keyword:"contact",url:"/contact.html",text:"contact"}].forEach(r=>{n.includes(r.keyword)&&!t.innerHTML.includes(r.url)&&(t.innerHTML+=`<li><a href="${r.url}">${r.text}</a></li>`)}),e.addEventListener("click",r=>{r.preventDefault(),o.classList.toggle("active")})}l.registerPlugin(c);function m(){const e=document.querySelector("footer");if(!e)return console.warn("No <footer> element found."),Promise.resolve();const o=new URL("/footer.html",window.location.origin).href;return fetch(o).then(t=>{if(!t.ok)throw new Error(`Failed to load footer: ${t.status}`);return t.text()}).then(t=>{e.innerHTML=t,window.location.pathname==="/"||window.location.pathname==="/index.html"?h():f(3e3)}).catch(t=>console.error(t))}function f(e=3e3){setTimeout(()=>{const o=document.querySelector("footer");o&&o.classList.add("at-bottom")},e)}function h(){const e=document.querySelector("footer");!e||!document.querySelector(".site-body")||c.create({trigger:".site-body",start:"bottom bottom",toggleClass:{targets:e,className:"at-bottom"},onToggle(t){console.log("Footer ScrollTrigger active:",t.isActive)}})}function w(){if(a(),s(),d(),m(),document.querySelector(".third-list")){const e=document.querySelectorAll(".third-list p"),o=window.location.pathname,t=o.substring(0,o.lastIndexOf("/"));e.forEach(n=>{n.addEventListener("click",()=>{const i=n.getAttribute("data-category");window.location.href=`${t}/pages/projects.html?category=${encodeURIComponent(i)}`,console.log(i)})})}}export{w as initApp};
